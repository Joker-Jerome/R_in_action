---
title: "power_analysis"
author: "Jerome"
date: "5/25/2020"
output: html_document
---

# power as a function of effect size
```{r}
delta = rnorm(100,0,1)
delta = delta[order(delta, decreasing = F)]


# effect size with different n
plot(delta,
     pnorm(sqrt(10)*delta-qnorm(0.975))+pnorm(-sqrt(10)*delta-qnorm(0.975)), 
     xlab='delta',ylim=c(0,1), ylab='power', lty=2)
lines(delta,
     pnorm(sqrt(20)*delta-qnorm(0.975))+pnorm(-sqrt(20)*delta-qnorm(0.975)), 
     lty=4, col = "blue")
lines(delta,
     pnorm(sqrt(30)*delta-qnorm(0.975))+pnorm(-sqrt(30)*delta-qnorm(0.975)), 
    lty=6, col = "green")
lines(delta,
     pnorm(sqrt(50)*delta-qnorm(0.975))+pnorm(-sqrt(50)*delta-qnorm(0.975)), 
    lty=8, col = "orange")
lines(delta,
     pnorm(sqrt(100)*delta-qnorm(0.975))+pnorm(-sqrt(100)*delta-qnorm(0.975)), 
    lty=9, col = "grey")

# 
delta_value <- 0.5
lines(c(delta_value, delta_value),c(0,1))

legend(-2.5, 0.6, legend=c("N = 10","N = 20","N = 30", "N = 50", "N = 100"), 
        col=c("black", "blue", "green", "orange", "grey"),
        lty=c(2,4,6,8,9))

```

# survival 
```{r}

```

